[user]
    name = Rocky Assad
    email = rocky.assad@premisehealth.com
    signingkey = D72BA876C648FEE6C0E5D22D33F6AD1F1A0618B0
[pull]
    rebase = false
[init]
	defaultBranch = master
[commit]
    gpgsign = true
[credentials]
	helper = osxkeychain
[alias]
	genmsg = "!f() { \
		if ! command -v gh >/dev/null 2>&1; then \
			echo 'Error: GitHub CLI (gh) is not installed. Install with: brew install gh'; \
			return 1; \
		fi; \
		if [ -z \"$(git diff HEAD)\" ] && [ -z \"$(git ls-files --others --exclude-standard)\" ]; then \
			echo 'No changes detected in git diff HEAD'; \
			return 1; \
		fi; \
		echo 'Generating commit message based on git diff HEAD...'; \
		DIFF_OUTPUT=$(git diff HEAD | head -200); \
		UNTRACKED=$(git ls-files --others --exclude-standard | paste -sd ',' -); \
		if [ -n \"$UNTRACKED\" ]; then \
			DIFF_OUTPUT=\"diff --git New untracked files to be added: $UNTRACKED\"$'\\n'\"$DIFF_OUTPUT\"; \
		fi; \
		TEMP_FILE=$(mktemp); \
		printf '\\n' | gh copilot suggest -t shell \"Write a detailed, multi-line commit message for these changes: $DIFF_OUTPUT\" > \"$TEMP_FILE\" 2>&1; \
		COMMIT_MSG=$(sed -n '/git commit -m \"/,/\"/p' \"$TEMP_FILE\" | sed '1s/.*git commit -m \"//; $s/\".*//; s/^[[:space:]]*//'); \
		rm -f \"$TEMP_FILE\"; \
		if [ -z \"$COMMIT_MSG\" ]; then \
			echo 'Failed to generate commit message. Using fallback.'; \
			FIRST_FILE=$(git status --short | head -1 | awk '{print $2}' | xargs basename); \
			COMMIT_MSG=\"chore: update $FIRST_FILE\"; \
		fi; \
		echo \"Suggested commit message:\"; \
		echo \"$COMMIT_MSG\"; \
		if [ \"$1\" = \"--commit\" ] || [ \"$1\" = \"-c\" ]; then \
			if [ \"$2\" = \"--all\" ] || [ \"$2\" = \"-a\" ]; then \
				git add . && git commit -m \"$COMMIT_MSG\"; \
			else \
				git commit -m \"$COMMIT_MSG\"; \
			fi; \
		elif [ \"$1\" = \"--all\" ] || [ \"$1\" = \"-a\" ]; then \
			if [ \"$2\" = \"--commit\" ] || [ \"$2\" = \"-c\" ]; then \
				git add . && git commit -m \"$COMMIT_MSG\"; \
			fi; \
		fi; \
	}; f"
